{"ast":null,"code":"var _jsxFileName = \"/Users/rahulbhaskar/Desktop/node/rick-and-morty-react/src/components/home.js\";\nimport React, { Component, useEffect } from \"react\";\nimport { Route, Redirect, withRouter } from \"react-router-dom\";\nimport \"../home.scss\";\nimport Filters from \"../components/filters\";\nimport Character from \"../components/character\";\nimport AppliedFilters from \"../components/appliedFilters\";\n\nconst config = require(\"../config/config\");\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showData: [],\n      currentPage: Number,\n      paging: {},\n      filters: {},\n      appliedFilters: [],\n      dataLoaded: false\n    };\n    this.appliedFilters = [];\n    this.getFilteredResults = this.getFilteredResults.bind(this);\n  }\n\n  componentDidMount() {\n    this.GetShowData();\n  }\n\n  GetShowData(pageNum = 0) {\n    let URL;\n\n    if (pageNum != \"\" && pageNum != 0) {\n      URL = config.BASE_API_URL + \"?page=\" + pageNum;\n    } else {\n      URL = config.BASE_API_URL;\n    }\n\n    fetch(URL).then(results => {\n      results.json().then(showDataList => {\n        if (showDataList.results.length > 0) {\n          let speciesFilter = [...new Set(showDataList.results.map(data => data.species))];\n          let genderFilter = [...new Set(showDataList.results.map(data => data.gender))];\n          let originFilter = [...new Set(showDataList.results.map(data => data.origin.name))];\n          let allFilters = {\n            species: speciesFilter,\n            gender: genderFilter,\n            origin: originFilter\n          };\n          this.setState({\n            showData: showDataList.results\n          }, function () {});\n          this.setState({\n            paging: showDataList.info\n          }, function () {});\n          this.setState({\n            currentPage: pageNum\n          }, function () {});\n          this.setState({\n            filters: allFilters\n          }, function () {});\n          this.setState({\n            dataLoaded: true\n          }, function () {});\n        } else {\n          this.setState({\n            showData: []\n          }, function () {});\n          this.setState({\n            paging: showDataList.info\n          }, function () {});\n          this.setState({\n            currentPage: 0\n          }, function () {});\n          this.setState({\n            filters: {}\n          }, function () {});\n          this.setState({\n            dataLoaded: false\n          }, function () {});\n        }\n      });\n    });\n  }\n\n  getFilteredResults(filterVal) {\n    let appliedFiltersLen = this.appliedFilters.length > 0 ? this.appliedFilters.push(filterVal) : '';\n\n    if (appliedFiltersLen > 0) {\n      const exists = this.appliedFilters.some(item => item.type === filterVal.type);\n\n      if (exists) {\n        console.log('exists');\n        this.appliedFilters.map((item, index) => {\n          if (item.type === filterVal.type) {\n            item.value = filterVal.value;\n          }\n        });\n      } else {\n        this.appliedFilters.push(filterVal);\n      }\n    } else {\n      this.appliedFilters.push(filterVal);\n    }\n\n    this.setState({\n      appliedFilters: this.appliedFilters\n    }, function () {\n      console.log(this.state.appliedFilters);\n      let filterURL = this.constructUrl(this.state.appliedFilters);\n      this.callFilterHandler(filterURL);\n    });\n  }\n\n  callFilterHandler(URL, pageNum = 0) {\n    console.log(URL);\n    fetch(URL).then(results => {\n      results.json().then(showDataList => {\n        console.log(showDataList);\n        this.setState({\n          showData: showDataList.results\n        }, function () {});\n        this.setState({\n          paging: showDataList.info\n        }, function () {});\n        this.setState({\n          currentPage: pageNum\n        }, function () {});\n        this.setState({\n          dataLoaded: true\n        }, function () {});\n      });\n    });\n  }\n\n  constructUrl(filters) {\n    let qs = '';\n    let filterURL = '';\n\n    for (var key in filters) {\n      // console.log(filters[key].type);\n      let filterType = filters[key].type;\n      let filterValue = filters[key].value;\n      console.log(filterType, filterValue); // if(qs.indexOf(filterType) !== -1)\n\n      qs += encodeURIComponent(filterType) + \"=\" + encodeURIComponent(filterValue) + \"&\";\n      console.log('qs', qs);\n    }\n\n    if (qs.length > 0) {\n      qs = qs.substring(0, qs.length - 1); //chop off last \"&\"\n\n      filterURL = filterURL + \"?\" + qs;\n    }\n\n    console.log(filterURL);\n    return config.BASE_API_URL + filterURL;\n  }\n\n  removeFilter(filterVal) {\n    console.log(filterVal);\n  }\n\n  render() {\n    let renderPageNumbers = '';\n\n    if (Object.entries(this.state.paging).length !== 0) {\n      let pageNumberState = this.state.paging.pages;\n      const pageNumbers = [];\n\n      for (let i = 1; i <= pageNumberState; i++) {\n        pageNumbers.push(i);\n      }\n\n      renderPageNumbers = pageNumbers.map(number => {\n        return React.createElement(\"li\", {\n          className: this.state.currentPage === number ? \"active page-item\" : \"page-item\",\n          key: number,\n          id: number,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          className: \"page-link\",\n          title: config.BASE_API_URL + \"?page=\" + number,\n          onClick: () => this.GetShowData(number),\n          href: \"javascript:void(0)\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        }, number));\n      });\n    } // [ ID, Name, Status, Species, Gender, Image, Created, Origin, Last Location, etc]\n\n\n    return React.createElement(\"div\", {\n      className: \"card-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, Object.entries(this.state.appliedFilters).length !== 0 ? React.createElement(AppliedFilters, {\n      filterData: this.state.appliedFilters,\n      onClick: this.removeFilter(this.state.appliedFilters),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }) : null, this.state.dataLoaded ? React.createElement(Filters, {\n      filterData: this.state.filters,\n      applyFilter: this.getFilteredResults,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }) : null, React.createElement(\"div\", {\n      className: \"product-section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, this.state.showData.map((listValue, index) => {\n      let divStyle = {\n        width: \"18rem\"\n      };\n      return React.createElement(Character, {\n        data: listValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      });\n    })), React.createElement(\"nav\", {\n      \"aria-label\": \"Page navigation example\",\n      className: \"pagination-custom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, renderPageNumbers !== '' ? React.createElement(\"ul\", {\n      className: \"pagination\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, renderPageNumbers) : null));\n  }\n\n}\n\nexport default withRouter(Home);","map":{"version":3,"sources":["/Users/rahulbhaskar/Desktop/node/rick-and-morty-react/src/components/home.js"],"names":["React","Component","useEffect","Route","Redirect","withRouter","Filters","Character","AppliedFilters","config","require","Home","constructor","props","state","showData","currentPage","Number","paging","filters","appliedFilters","dataLoaded","getFilteredResults","bind","componentDidMount","GetShowData","pageNum","URL","BASE_API_URL","fetch","then","results","json","showDataList","length","speciesFilter","Set","map","data","species","genderFilter","gender","originFilter","origin","name","allFilters","setState","info","filterVal","appliedFiltersLen","push","exists","some","item","type","console","log","index","value","filterURL","constructUrl","callFilterHandler","qs","key","filterType","filterValue","encodeURIComponent","substring","removeFilter","render","renderPageNumbers","Object","entries","pageNumberState","pages","pageNumbers","i","number","listValue","divStyle","width"],"mappings":"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","sourcesContent":["import React, { Component, useEffect } from \"react\";\nimport { Route, Redirect, withRouter } from \"react-router-dom\";\nimport \"../home.scss\";\nimport Filters from \"../components/filters\";\nimport Character from \"../components/character\";\nimport AppliedFilters from \"../components/appliedFilters\";\nconst config = require(\"../config/config\");\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showData: [],\n      currentPage: Number,\n      paging: {},\n      filters: {},\n\t  appliedFilters: [],\n\t  dataLoaded:false\n    };\n    this.appliedFilters = [];\n    this.getFilteredResults = this.getFilteredResults.bind(this);\n  }\n\n  componentDidMount() {\n    this.GetShowData();\n  }\n\n  GetShowData(pageNum = 0) {\n    let URL;\n    if (pageNum != \"\" && pageNum != 0) {\n      URL = config.BASE_API_URL + \"?page=\" + pageNum;\n    } else {\n      URL = config.BASE_API_URL;\n    }\n    fetch(URL).then(results => {\n      results.json().then(showDataList => {\n        if(showDataList.results.length > 0){  \n          \n          let speciesFilter = [\n            ...new Set(showDataList.results.map(data => data.species))\n          ];\n          let genderFilter = [\n            ...new Set(showDataList.results.map(data => data.gender))\n          ];\n          let originFilter = [\n            ...new Set(showDataList.results.map(data => data.origin.name))\n          ];\n          let allFilters = {\n            species: speciesFilter,\n            gender: genderFilter,\n            origin: originFilter\n          };\n          this.setState({ showData: showDataList.results }, function() {});\n          this.setState({ paging: showDataList.info }, function() {});\n          this.setState({ currentPage: pageNum }, function() {});\n          this.setState({ filters: allFilters }, function() {});\n          this.setState({ dataLoaded: true }, function() {});\n        }else{\n          this.setState({ showData: [] }, function() {});\n          this.setState({ paging: showDataList.info }, function() {});\n          this.setState({ currentPage: 0 }, function() {});\n          this.setState({ filters: {} }, function() {});\n          this.setState({ dataLoaded: false }, function() {});          \n        }\n      });\n    });\n  }\n\n  getFilteredResults(filterVal) {\n    let appliedFiltersLen = this.appliedFilters.length > 0 ? this.appliedFilters.push(filterVal) : '';\n    if(appliedFiltersLen > 0){\n      const exists = this.appliedFilters.some(item => item.type === filterVal.type);\n      if(exists){\n        console.log('exists');\n        this.appliedFilters.map((item, index) => {\n          if(item.type === filterVal.type){\n            item.value = filterVal.value;\n          }\n        });\n      }else{\n        this.appliedFilters.push(filterVal);\n      }\n    }else{\n      this.appliedFilters.push(filterVal);\n    }\n    this.setState({ appliedFilters: this.appliedFilters}, function() {\n      console.log(this.state.appliedFilters);\n      let filterURL = this.constructUrl(this.state.appliedFilters);\n      this.callFilterHandler(filterURL);\n    });\n    \n  }\n\n  callFilterHandler(URL, pageNum=0){\n    console.log(URL);\n    fetch(URL).then(results => {\n      results.json().then(showDataList => {\n        console.log(showDataList);\n        this.setState({ showData: showDataList.results }, function() {});\n        this.setState({ paging: showDataList.info }, function() {});\n        this.setState({ currentPage: pageNum }, function() {});\n        this.setState({ dataLoaded: true }, function() {});\n      });\n    });\n  }\n\n  constructUrl(filters){\n    let qs = '';let filterURL='';\n    for(var key in filters) {\n      // console.log(filters[key].type);\n      let filterType = filters[key].type;\n      let filterValue = filters[key].value;\n      console.log(filterType, filterValue);\n      // if(qs.indexOf(filterType) !== -1)\n      qs += encodeURIComponent(filterType) + \"=\" + encodeURIComponent(filterValue) + \"&\";\n\n      console.log('qs', qs);\n    }\n    if (qs.length > 0){\n      qs = qs.substring(0, qs.length-1); //chop off last \"&\"\n      filterURL = filterURL + \"?\" + qs;\n    }\n\n    console.log(filterURL);\n    return config.BASE_API_URL+filterURL\n\n  }\n\n  removeFilter(filterVal){\n    console.log(filterVal);\n  }\n\n  render() {\n    let renderPageNumbers = '';\n    if(Object.entries(this.state.paging).length !== 0){\n      let pageNumberState = this.state.paging.pages;\n      const pageNumbers = [];\n      for (let i = 1; i <= pageNumberState; i++) {\n        pageNumbers.push(i);\n      }  \n    \n      renderPageNumbers = pageNumbers.map(number => {\n        return (\n          <li\n            className={\n              this.state.currentPage === number ? \"active page-item\" : \"page-item\"\n            }\n            key={number}\n            id={number}\n          >\n            <a\n              className=\"page-link\"\n              title={config.BASE_API_URL + \"?page=\" + number}\n              onClick={() => this.GetShowData(number)}\n              href=\"javascript:void(0)\"\n            >\n              {number}\n            </a>\n          </li>\n        );\n      });\n    }\n    // [ ID, Name, Status, Species, Gender, Image, Created, Origin, Last Location, etc]\n    return (\n      <div className=\"card-container\">\n        {Object.entries(this.state.appliedFilters).length !== 0 ? <AppliedFilters filterData={this.state.appliedFilters}  onClick={this.removeFilter(this.state.appliedFilters)}  /> : null}\n        \n        {\n\t\t\tthis.state.dataLoaded?\n\t\t\t<Filters filterData={this.state.filters} applyFilter={this.getFilteredResults} />:null\n\t\t}\n\n        <div className=\"product-section\">\n          {this.state.showData.map((listValue, index) => {\n            let divStyle = { width: \"18rem\" };\n            return <Character data={listValue} />;\n          })}\n        </div>\n        <nav aria-label=\"Page navigation example\" className=\"pagination-custom\">\n          {renderPageNumbers !== '' ? <ul className=\"pagination\">{renderPageNumbers}</ul> : null}\n        </nav>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Home);\n"]},"metadata":{},"sourceType":"module"}